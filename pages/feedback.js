import Head from "next/head";
import { useRef, useState } from "react";
import NavBar from "../components/navBar";

export default function Feedback() {

  const outputDivRef = useRef(null);
  const [userDetails, setUserDetails] = useState({});

  const handleSubmit = (e) => {
    // Stop the form from submitting and refreshing the page.
    e.preventDefault();

    console.log(e.target.name.value, e.target.email.value);
    outputDivRef.current.style.display = "block";

    setUserDetails({
        name: e.target.name.value,
        email: e.target.email.value
    });

  };

  return (
    <div className="flex items-center justify-center h-screen w-screen">
      <Head>
        <title>Feedback</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <NavBar />

      <div>
        <form className="border-2 p-4 drop-shadow-md flex flex-col rounded md:w-[40vw] md:h-[40vh]" onSubmit={handleSubmit}>
          <input
            type="text"
            placeholder="Name"
            name="name"
            className="borderStyle"
            required
          />
          <input
            type="email"
            placeholder="Email"
            name="email"
            className="borderStyle"
            required
          />
          <button
            type="submit"
            className="bg-blue-400 w-2/4 p-2  my-2 font-bold text-white self-center rounded"
          >
            {" "}
            Submit{" "}
          </button>
        </form>

        <div className="hidden drop-shadow-md border-2 mt-4 rounded p-4 md:w-[40vw]" ref={outputDivRef}>
          <h3 className="font-semibold text-center mb-2">Output Comes here</h3>
          <p className="outputTitle">Name: <span className="outputText">{userDetails.name}</span></p>
          <p className="outputTitle">Email: <span className="outputText">{userDetails.email}</span></p>
        </div>
      </div>
    </div>
  );
}
